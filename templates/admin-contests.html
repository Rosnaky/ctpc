{% extends "base.html" %}

{% block content %}
	<a class="back" href="/admin">&larr; Back to admin</a>
	<h1>Contest management</h1>
	<div class="admin-controls">
		<a href="/admin/add-contest">Add contest</a>
	</div>
	<div id="adminContainer">
		{% for contest in contests %}
			<div class="admin-contest">
				<span class="admin-contest-name"><b>{{ contest.name }}</b> ({{ contest.contest_type }})</span>
				<div class="admin-controls">
					<a href="/admin/edit-contest/{{ contest.id }}">Edit</a>
					<a href="/admin/edit-problems/{{ contest.id }}">Problems</a>
					<a href="/admin/delete-contest/{{ contest.id }}">Delete</a>
				</div>
				<p><span class="unix-timestamp">{{ contest.start_date }}</span> to <span class="unix-timestamp">{{ contest.end_date }}</span></p>
				<p>{{ contest.problems|length }} problem{% if contest.problems|length != 1 %}s{% endif %}</p>
			</div>
		{% else %}
			<p>No contests found.</p>
		{% endfor %}
	</div>
{% endblock %}